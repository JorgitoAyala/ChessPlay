const store_data = [
  {
    id: "store_1",
    name: "Campaña de Navidad",
    image:
      "https://i.pinimg.com/originals/4d/59/b6/4d59b61645819e5f97d3f49454bb1d8c.jpg",
    products: [
      {
        id: "DJB325CMB",
        name: "Juego de ajedrez Deluxe Old Club Staunton Piezas ebonizadas y boj con tablero y caja de caoba clásica - 3.25'p King",
        brand: "Fluppy chess",
        price: 279,
        stock: 7,
        img: [
          "https://cdn11.bigcommerce.com/s-5p6k1/images/stencil/1000x1308/products/3859/16542/pieces-board-box-mahogany-deluxe-old-club-ebony-full-1300x900__44523.1512258076.jpg?c=2",
          "https://cdn11.bigcommerce.com/s-5p6k1/images/stencil/1000x1308/products/3859/16543/pieces-board-box-mahogany-deluxe-old-club-ebony-zoom-1400x800__67971.1512258076.jpg?c=2",
          "https://cdn11.bigcommerce.com/s-5p6k1/images/stencil/1000x1308/products/3859/16544/pieces-board-box-mahogany-deluxe-old-club-ebony-pieces-1400x800__77031.1512258077.jpg?c=2",
          "https://cdn11.bigcommerce.com/s-5p6k1/images/stencil/1000x1308/products/3859/15990/chess-pieces-on-box-mahogany-deluxe-old-club-ebony-1040x850__11039.1512258077.jpg?c=2",
          "https://cdn11.bigcommerce.com/s-5p6k1/images/stencil/1000x1308/products/3859/15991/chess-pieces-box-mahogany-deluxe-old-club-ebony-800x900__06390.1512258078.jpg?c=2",
          "https://cdn11.bigcommerce.com/s-5p6k1/images/stencil/100x100/products/3859/15992/chess-box-mahogany-1280x730__42769.1512258078.jpg?c=2",
        ],
        description: [
          "Este paquete de juego de ajedrez incluye nuestro Deluxe Old Club con piezas de ajedrez de madera de boj natural y ebonizadas combinadas con nuestro tablero de caoba y arce y la caja de ajedrez a juego. Nuestro Deluxe Old Club es un clásico eterno que durante años ha sido el favorito de los jugadores por su distinguido caballero y su tradicional diseño Staunton. El Deluxe Old Club a menudo se muestra en la portada de innumerables libros de ajedrez y se ha utilizado para modelos de juegos de ajedrez de plástico debido a su popularidad entre los jugadores de clubes y torneos. Este juego cuenta con un rey de 3,25'p de alto con una base de 1,375'p, un juego ideal para juegos casuales en casa con familiares y amigos. Las piezas tienen almohadillas de tela de billar verde para un aterrizaje suave en el tablero de ajedrez y están bien ponderadas para mayor estabilidad. Las piezas ebonizadas en negro azabache parecen casi ébano real y hacen un hermoso contraste con el cálido color marrón anaranjado del tablero de caoba. Incluimos un certificado de autenticidad para que siempre sepas qué es el juego de ajedrez, de dónde viene y cuándo se fabricó.",
          "El tablero de ajedrez de caoba y arce está fabricado con las mejores chapas y sellado con un acabado protector de poliuretano semibrillante. Los cuadrados miden 1,75'p y el tamaño total del tablero es de 17'p y 0,5'p de grosor. Un borde ancho con incrustaciones negras acentúa el área de juego y la parte inferior del tablero tiene almohadillas para proteger cualquier superficie sobre la que se coloque. La caja de ajedrez es Maravillosamente construido y que recuerda a las viejas cajas de ajedrez de calidad de reliquia de hace muchos años. La caja está cubierta con chapa de caoba y el interior está forrado con un paño verde grueso como el que usamos para las almohadillas de nuestras piezas de ajedrez. La caja tiene un divisor. en el centro para guardar las piezas en blanco y negro por separado.Utilizamos bisagras empotradas de alta calidad y una cerradura chapada en latón para asegurar la tapa.Incluimos 2 llaves en caso de que alguna se pierda.",
        ],
        features: [
          {
            title: "Piezas de ajedrez",
            feat: [
              "Boj ebonizado y boj",
              "Piezas pulidas individualmente a mano con laca sólida y rueda de pulido.",
              "Altura del rey: 3.25'p",
              "Base Rey: 1.375'p",
              "Peso Rey: 1.6 oz.",
              "Peso del juego de ajedrez: 42 oz.",
              "Se incluyen 2 reinas de repuesto para la promoción de peón",
              "Almohadillas De Baya Verde",
              "Incluye Certificado de Autenticidad",
            ],
          },
          {
            title: "Tablero de ajedrez",
            feat: [
              "Material: Chapa de caoba y arce sobre compuestos de madera",
              "Borde con incrustaciones negras alrededor del área de juego",
              "Acabado: Poliuretano Satinado",
              "Tamaño cuadrado: 1.75'p",
              "Dimensiones generales: 17'p x 17'p x .5'p",
              "Peso del juego de ajedrez: 42 oz.",
              "Almohadillas en la parte inferior para proteger la superficie sobre la que se asienta",
            ],
          },
          {
            title: "Caja de ajedrez",
            feat: [
              "Material: chapas de caoba y otras maderas",
              "Acabado: Poliuretano Satinado",
              "Dimensiones exteriores: 8.25'p x 5.62'p x 3.75'p",
              "Dimensión interior: 7,25'p x 4,5'p x 2,5'p (espacio de 0,75'p arriba en la tapa)",
              "Bisagras y cerradura de alta calidad. Viene con 2 llaves.",
            ],
          },
        ],
      },
      {
        name: "German Knight Deluxe Carry-All Plastic Chess Set Wood Grain Pieces with Vinyl Roll-up Board & Bag - Brown",
        price: 125,
        stock: 8,
        img: [
          "https://cdn11.bigcommerce.com/s-5p6k1/images/stencil/1000x1308/products/5708/51656/chess-set-plastic-pgkwgv6d-brown-vinyl-board-natural-pieces-view-1500x1180__62931.1643243970.jpg?c=2",
        ],
      },
      {
        name: "German Knight Staunton Chess Set Golden Rosewood & Boxwood Pieces with Walnut Chess Case - 3.25'p King",
        price: 235,
        stock: 3,
        img: [
          "https://cdn11.bigcommerce.com/s-5p6k1/images/stencil/1000x1308/products/2757/16820/case-walnut-small-german-knight-sheesham-full-1400x820__59752.1513280516.jpg?c=2",
        ],
      },
      {
        name: "Decorative Staunton Silver & Black Anodized Chess Set with Brown Ash Burl Board - 3.5'p King",
        price: 299,
        stock: 5,
        img: [
          "https://cdn11.bigcommerce.com/s-5p6k1/images/stencil/1000x1308/products/4528/25482/dcp15-chess-set-brown-ash-burl-chess-board-silver-view-1500x770__50673.1561736860.jpg?c=2",
        ],
      },
      {
        name: "New Exclusive Staunton Chess Set Ebonized  & Boxwood Pieces with Black & Ash Burl Board & Box - 3'p King",
        price: 299,
        stock: 5,
        img: [
          "https://cdn11.bigcommerce.com/s-5p6k1/images/stencil/1000x1308/products/6022/59513/chess-set-wood-nee400bab-box-boxwood-pieces-view-1400x1010__61989.1660149607.jpg?c=2",
        ],
      },
      {
        name: "Parker Staunton Chess Set Art Deco Design Blue & Red Pieces with Blue Ash Burl Board- 3.75'p King",
        price: 219,
        stock: 10,
        img: [
          "https://cdn11.bigcommerce.com/s-5p6k1/images/stencil/1000x1308/products/6152/61179/chess-set-wood-pad375-blue-board-red-pieces-view-1500x850__62615.1666372275.jpg?c=2",
        ],
      },
      {
        name: "Large Italian Arabesque Staunton Metal & Wood Chess Set with Blue Ash Burl Chess Board",
        price: 305,
        stock: 7,
        img: [
          "https://cdn11.bigcommerce.com/s-5p6k1/images/stencil/1000x1308/products/5325/42345/chess-set-metal-italfama-142m-blue-board-brass-pieces-view-1500x840__81534.1630271523.jpg?c=2",
        ],
      },
      {
        name: "New Exclusive Staunton Chess Set Padauk & Boxwood Pieces with Padauk & Bird's Eye Maple Molded Edge Board - 4'p King",
        price: 273,
        stock: 2,
        img: [
          "https://cdn11.bigcommerce.com/s-5p6k1/images/stencil/1000x1308/products/2012/48611/chess-set-wood-nep400-padauk-molded-board-boxwood-pieces-view-1500x800__11456.1640224418.jpg?c=2",
        ],
      },
      {
        name: "Large Poseidon Theme Chess Set Brass & Nickel Pieces with Green Board on Case",
        price: 447,
        stock: 2,
        img: [
          "https://cdn11.bigcommerce.com/s-5p6k1/images/stencil/1000x1308/products/4797/30174/chess-set-metal-large-poseidon-brass-silver-green-board-brass-pieces-view-1500x930__42521.1616960320.jpg?c=2",
        ],
      },
      {
        name: "Italian Arabesque Staunton Gold & Silver Chess Set with Elm Burl Chess Case",
        price: 399,
        stock: 4,
        img: [
          "https://cdn11.bigcommerce.com/s-5p6k1/images/stencil/1000x1308/products/4030/17838/070g-elm-burl-case-silver-view-1400x780__01897.1529947389.jpg?c=2",
        ],
      },
    ],
  },
  {
    id: "store_2",
    name: "Sets de Ajedrez",
    image: "https://m.media-amazon.com/images/I/71JHItA+A+L._AC_SL1200_.jpg",
  },
  {
    id: "store_3",
    name: "Piezas",
    image:
      "https://tiendaajedrezescacimat.es/img/cms/blog/staunton/modelo-staunton.jpg",
  },
  {
    id: "store_4",
    name: "Tableros",
    image:
      "https://images.chesscomfiles.com/uploads/v1/article/24768.a423662d.668x375o.d774880b48f5@2x.jpeg",
  },
  {
    id: "store_5",
    name: "Relojes",
    image:
      "https://periodistas-es.com/wp-content/uploads/ajedrez-piezas-reloj-competicion.jpg",
  },
  {
    id: "store_6",
    name: "Suministros escolares",
    image:
      "https://okdiario.com/img/2019/12/08/cuales-son-los-beneficios-de-que-los-ninos-aprendan-a-jugar-al-ajedrez.jpg",
  },
  {
    id: "store_7",
    name: "Estuches de Ajedrez",
    image:
      "https://i.pinimg.com/736x/b6/1b/f1/b61bf1f6fde76e6e7640d10cc0541594.jpg",
  },
  {
    id: "store_8",
    name: "Nuevos productos",
    image:
      "https://i.pinimg.com/originals/fd/87/9e/fd879e58c50460235b66c8fe13bbe90d.jpg",
  },
  {
    id: "store_9",
    name: "Colecciones",
    image:
      "https://i.pinimg.com/736x/7e/9f/3f/7e9f3fcb3f614a1ea82f95bfb257d5de.jpg",
  },
];
const play_data = [
  {
    id: "play_1",
    name: "Aprende aperturas",
    image: "https://i.ytimg.com/vi/R3DS1ydIre0/maxresdefault.jpg",
  },
  {
    id: "play_2",
    name: "Jugar contra un amigo",
    image:
      "https://www.biznesstransform.com/wp-content/uploads/2020/06/square-off.jpg",
  },
  {
    id: "play_3",
    name: "Jugar contra el ordenador",
    image:
      "https://images.chesscomfiles.com/uploads/v1/video/3886.b629c656.5000x5000o.a704d76d3591.jpeg",
  },
  {
    id: "play_4",
    name: "Desarrolla puzzles",
    image:
      "https://chessfox.com/wp-content/uploads/2020/05/How-To-Solve-Chess-Puzzles.png",
  },
  {
    id: "play_5",
    name: "Streamings en vivo",
    image:
      "https://new.uschess.org/sites/default/files/wp-thumbnails/Nakamura-stream-screenshot-200529.png",
  },
  {
    id: "play_6",
    name: "Competiciones en vivo",
    image:
      "https://images.chesscomfiles.com/uploads/v1/news/1030435.4d5923c2.5000x5000o.42239638ddc6.png",
  },
];

const menu = (store_data, play_data) => {
  //FUNCIONES REUTILIZABLES
  const removeAdd = (el, clase) =>
    el.contains(clase) ? el.remove(clase) : el.add(clase);
  const addString = (arr) => {
    let string = "";
    arr.forEach((el) => {
      string += `
        <li class="py-1 hover:duration-300 hover:transition hover:text-yellow-900 hover:font-semibold hover:translate-x-2" id="${el.id}">
          <a class="flex gap-2" href="categoria.html">
            <p class="text-sm lg:text-base">${el.name}</p>
            <i class="ri-arrow-right-line"></i>
          </a>
        </li>
      `;
    });
    return string;
  };

  const dropdownDesktop = (
    btn,
    infoClass,
    insertData,
    data,
    transition,
    defaultTransition
  ) => {
    const menu_desktop = document.getElementById("menu_desktop");

    //CREAR UN EVENTO CLICK POR CLASE
    btn.addEventListener("click", () => {
      //Desplegar la cinta de opciones
      removeAdd(menu_desktop.classList, "min-[834px]:block");

      //Girar el icono del dropdown
      const icono = btn.querySelector(".ri-arrow-down-s-line");
      removeAdd(icono.classList, "rotate-180");

      //Mostrar el contenido de store
      const info = menu_desktop.querySelector(infoClass);
      removeAdd(info.classList, "hidden");
    });

    //ADD EVERY CATEGORY STRING
    insertData.innerHTML = addString(data);

    //ADD IMAGE TRANSITIONS
    data.forEach((el) => {
      let hoverCategory = document.getElementById(el.id);
      hoverCategory.addEventListener("mouseover", () => {
        transition.innerHTML = `
        <img class="w-full h-[373px] object-cover rounded-lg"
          src="${el.image}" alt="banner" id="img_transitions" />
        <div class="absolute p-5 z-10 right-0 bottom-4 w-auto h-auto h-full flex items-center bg-yellow-900 bg-opacity-90 rounded-l-lg">
          <p class="text-3xl text-white font-bold uppercase">
            ${el.name}
          </p>
        </div>
      `;
      });
      hoverCategory.addEventListener("mouseout", () => {
        transition.innerHTML = defaultTransition;
      });
    });
  };

  //PLAY
  const btn_play_desktop = document.getElementById("btn_play_desktop");
  const play_categories = document.getElementById("play_categories");
  const play_transitions = document.getElementById("play_transitions");
  const defaultPlayTransition = play_transitions.innerHTML;
  dropdownDesktop(
    btn_play_desktop,
    ".play",
    play_categories,
    play_data,
    play_transitions,
    defaultPlayTransition
  );

  //STORE
  const btn_store_desktop = document.getElementById("btn_store_desktop");
  const store_categories = document.getElementById("store_categories");
  const store_transitions = document.getElementById("store_transitions");
  const defaultStoreTransition = store_transitions.innerHTML;
  dropdownDesktop(
    btn_store_desktop,
    ".store",
    store_categories,
    store_data,
    store_transitions,
    defaultStoreTransition
  );

  //MOBILE
  const display_mobile_menu = document.getElementById("display_mobile_menu");
  display_mobile_menu.addEventListener("click", (e) => {
    e.preventDefault();

    const dropdownMobile = (btn, insertData, data) => {
      //ADD EVERY CATEGORY STRING
      insertData.innerHTML = addString(data);

      //ADD EVENT FOR DROPDOWN
      btn.addEventListener("click", () => {
        //Girar el icono del dropdown
        const icono = btn.querySelector(".ri-arrow-down-s-line");
        removeAdd(icono.classList, "rotate-180");

        //Mostrar información
        removeAdd(insertData.classList, "hidden");
      });
    };

    //DISPLAY MENU
    const menu_mobile = document.getElementById("menu_mobile");
    removeAdd(menu_mobile.classList, "-translate-x-full");

    //PLAY
    const btn_play_mobile = document.getElementById("btn_play_mobile");
    const play_mobile = document.getElementById("play_mobile");
    dropdownMobile(btn_play_mobile, play_mobile, play_data);

    //STORE
    const btn_store_mobile = document.getElementById("btn_store_mobile");
    const store_mobile = document.getElementById("store_mobile");
    dropdownMobile(btn_store_mobile, store_mobile, store_data);
  });

  //CART
  const display_cart_menu = document.getElementById("display_cart_menu");
  display_cart_menu.addEventListener("click", (e) => {
    //DISPLAY CART
    const menu_cart = document.getElementById("menu_cart");
    removeAdd(menu_cart.classList, "-translate-y-full");
  });
};

menu(store_data, play_data);
